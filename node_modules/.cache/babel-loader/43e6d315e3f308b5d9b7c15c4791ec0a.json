{"ast":null,"code":"var _jsxFileName = \"/home/mmika/currencies-list/src/App.js\";\nimport React, { useState } from 'react';\nimport './App.css';\nimport { getData } from './data.js';\nimport SearchBar from './components/SearchBar';\nimport SearchResult from './components/SearchResult';\nimport TableData from './components/TableData';\nimport TableHeader from './components/TableHeader';\nimport Main from './components/Main';\n\nclass App extends React.Component {\n  // function App() {\n  //   const [state, setState] = useState(\n  //      { ratesTable: [],\n  //       chosenCurrency: '',\n  //       ratesTable2: [],\n  //       codeName: '',\n  //       currencyName: '',\n  //       data: [],\n  //       appName: 'React Search Bar',\n  //       list: undefined\n  //      }\n  //   );\n  constructor(props) {\n    super(props);\n    this.state = {\n      ratesTable: [],\n      favorite: [],\n      chosenCurrency: '',\n      ratesTable2: [],\n      codeName: '',\n      currencyName: '',\n      data: [],\n      appName: 'React Search Bar',\n      list: undefined\n    };\n  }\n\n  searchData(e) {\n    const queryData = [];\n\n    if (e.target.value != '') {\n      this.state.data.forEach(function (person) {\n        if (person.toLowerCase().indexOf(e.target.value) != -1) {\n          if (queryData.length < 10) {\n            queryData.push(person);\n          }\n        }\n      });\n    }\n\n    this.setState({\n      list: queryData,\n      chosenCurrency: e.target.value\n    });\n  }\n\n  addToFavorite() {\n    const check = this.state.ratesTable.filter(item => this.state.chosenCurrency == item.currency);\n    console.log(\"check\", check[0]);\n\n    if (!this.state.favorite.includes(check[0])) {\n      this.setState({\n        favorite: this.state.favorite.concat(check),\n        chosenCurrency: \"\",\n        list: undefined\n      });\n    }\n\n    ;\n  }\n\n  componentDidMount() {\n    getData().then(data => {\n      const ratesTable = data[0].rates.map(item => item);\n      const dataToSearch = data[0].rates.map(currency => currency.currency);\n      this.setState({ ...this.state,\n        ratesTable: ratesTable,\n        data: dataToSearch\n      });\n    }).catch(error => console.error('Error:', error)).finally(data => console.log('finally full table response', data));\n  }\n\n  removeCurrency(item) {\n    const newArray = this.state.favorite.filter(to => item !== to);\n    console.log(\"newArray\", newArray);\n    this.setState({\n      favorite: newArray\n    });\n  }\n\n  addCurrency(value, array) {\n    const ItemToAdd = array.filter(item => value == item.currency);\n    this.setState({\n      chosenCurrency: ItemToAdd[0].currency,\n      list: undefined\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 15\n      }\n    }, this.state.appName), /*#__PURE__*/React.createElement(SearchBar, {\n      chosen: this.state.chosenCurrency,\n      search: this.searchData.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 15\n      }\n    }), this.state.list ? /*#__PURE__*/React.createElement(SearchResult, {\n      onclick: this.addCurrency.bind(this),\n      ratesTable: this.state.ratesTable,\n      data: this.state.list,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    }) : null, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.addToFavorite.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 15\n      }\n    }, \" Add to Favorite\")), /*#__PURE__*/React.createElement(\"table\", {\n      id: \"students\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(TableHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(TableData, {\n      onclick: this.removeCurrency.bind(this),\n      ratesTable: this.state.favorite,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 19\n      }\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/mmika/currencies-list/src/App.js"],"names":["React","useState","getData","SearchBar","SearchResult","TableData","TableHeader","Main","App","Component","constructor","props","state","ratesTable","favorite","chosenCurrency","ratesTable2","codeName","currencyName","data","appName","list","undefined","searchData","e","queryData","target","value","forEach","person","toLowerCase","indexOf","length","push","setState","addToFavorite","check","filter","item","currency","console","log","includes","concat","componentDidMount","then","rates","map","dataToSearch","catch","error","finally","removeCurrency","newArray","to","addCurrency","array","ItemToAdd","render","bind"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport './App.css';\nimport { getData } from './data.js'\nimport SearchBar from './components/SearchBar';\nimport SearchResult from './components/SearchResult';\nimport TableData from './components/TableData'\nimport TableHeader from './components/TableHeader'\nimport Main from './components/Main'\n\nclass App extends React.Component {\n  // function App() {\n\n  //   const [state, setState] = useState(\n  //      { ratesTable: [],\n  //       chosenCurrency: '',\n  //       ratesTable2: [],\n  //       codeName: '',\n  //       currencyName: '',\n  //       data: [],\n  //       appName: 'React Search Bar',\n  //       list: undefined\n  //      }\n  //   );\n  \n  constructor(props) {\n      super(props);\n      this.state = {\n          ratesTable: [],\n          favorite: [],\n          chosenCurrency: '',\n          ratesTable2: [],\n          codeName: '',\n          currencyName: '',\n          data: [],\n          appName: 'React Search Bar',\n          list: undefined,\n            };\n  }\n\n  searchData(e) {\n    const queryData = [];\n    if(e.target.value != '') {\n      this.state.data.forEach(function(person) {\n\n          if(person.toLowerCase().indexOf(e.target.value)!=-1) {\n            if(queryData.length < 10) {\n              queryData.push(person);\n            }\n          }\n      });\n    }\n    this.setState({\n      list: queryData,\n      chosenCurrency: e.target.value\n    });\n\n  }\n\n  addToFavorite(){\n    const check = this.state.ratesTable.filter(item => this.state.chosenCurrency == item.currency)\n    console.log(\"check\", check[0])\n    if(!this.state.favorite.includes(check[0])) {\n      this.setState({\n        favorite: this.state.favorite.concat(check),\n        chosenCurrency: \"\",\n        list: undefined,\n      })\n    };\n  \n  }\n\n  componentDidMount() {\n\n      getData()\n      .then(data => {\n        const ratesTable = data[0].rates.map(item => item);\n        const dataToSearch = data[0].rates.map(currency => currency.currency)  \n          this.setState({\n            ...this.state,\n            ratesTable: ratesTable,\n            data: dataToSearch\n          })\n      })\n      .catch(error => console.error('Error:', error))\n      .finally(data => console.log('finally full table response', data));\n  };\n\n\n  removeCurrency(item){\n   const newArray = this.state.favorite.filter(to => item !== to)\n    console.log(\"newArray\", newArray)\n    this.setState({\n      favorite: newArray\n    })\n  }\n\n  addCurrency(value, array){\n\n    const ItemToAdd = array.filter(item => value == item.currency)\n    \n     this.setState({\n      chosenCurrency: ItemToAdd[0].currency,\n      list: undefined,\n     })\n   }\n\n\n   \n  render() {\n\n      return (\n        <div>  \n            <div>\n              <h2>{this.state.appName}</h2>\n              <SearchBar chosen={this.state.chosenCurrency} search={this.searchData.bind(this)} />\n              {(this.state.list) ? \n              <SearchResult onclick={this.addCurrency.bind(this)} ratesTable={this.state.ratesTable} data={this.state.list} /> : null  }\n              <button onClick={this.addToFavorite.bind(this)}> Add to Favorite</button>\n            </div>\n\n            <table id='students'>\n               <tbody>\n                  <tr><TableHeader/></tr>\n                  <TableData onclick={this.removeCurrency.bind(this)} ratesTable={this.state.favorite} />\n               </tbody>\n            </table>\n            \n        \n        </div>\n      );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}